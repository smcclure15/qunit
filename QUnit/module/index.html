<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="/favicon.svg">
<link rel="stylesheet" href="/assets/styles.css?v=9edb4346" media="screen">
<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="QUnit">
<title>QUnit.module() | QUnit</title>
<meta property="og:title" content="QUnit.module()"><meta name="description" content="Group related tests under a common label."><meta property="og:description" content="Group related tests under a common label."><link rel="me" href="https://mastodon.technology/@qunitjs"><meta name="twitter:creator" content="@qunitjs"><meta name="twitter:site" content="@qunitjs"><meta name="twitter:card" content="summary_large_image">
<body>
    <header class="site-header" role="banner">
        <div class="site-header-wrapper wrapper">
            <a class="site-logo" href="https://qunitjs.com"><img src="/img/logo-with-colored-text.svg" alt="QUnit" width="250" height="72"></a><form class="site-search" id="site-search-form" action="https://duckduckgo.com">
<label class="screen-reader-text" for="aa-search-input">Search</label>
<input type="search" name="q" id="aa-search-input" class="aa-input-search" placeholder="Search..." autocomplete="off">
<input type="hidden" name="sites" value="api.qunitjs.com">
<svg class="aa-input-icon" viewBox="654 -372 1664 1664" height="20">
    <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z"/>
</svg>
</form><nav class="site-nav"><ul class="site-nav-list"><li class="site-nav-item has-sub-list"><span class="site-nav-link has-sub-list" tabindex="0">Guides</span>
                        <ul class="site-nav-sub-list"><li><a class="site-sub-nav-link" href="https://qunitjs.com/intro/">Getting Started</a></li><li><a class="site-sub-nav-link" href="https://qunitjs.com/cli/">Command-line interface</a></li><li><a class="site-sub-nav-link" href="https://qunitjs.com/plugins/">Plugins</a></li><li><a class="site-sub-nav-link" href="https://qunitjs.com/upgrade-guide-2.x/">2.x Upgrade Guide</a></li></ul></li><li class="site-nav-item"><a class="site-nav-link" href="/">Documentation</a></li><li class="site-nav-item has-sub-list"><span class="site-nav-link has-sub-list" tabindex="0">About</span>
                        <ul class="site-nav-sub-list"><li><a class="site-sub-nav-link" href="https://qunitjs.com/projects/">Who&#39;s using QUnit?</a></li><li><a class="site-sub-nav-link" href="https://qunitjs.com/about/">About QUnit</a></li></ul></li></ul></nav>
            <div class="site-toggles">
                <button class="search-toggle toggle" data-opens=".site-search" aria-expanded="false">
                    <span class="screen-reader-text">Search</span>
                    <svg class="icon aa-input-icon" aria-hidden="true" viewBox="654 -372 1664 1664" height="20">
                        <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z"/>
                    </svg>
                </button>
                <script type="module">
                const searchToggle = document.querySelector('.search-toggle');
                const searchToggleOpens = document.querySelector(searchToggle.dataset.opens);
                searchToggle.addEventListener('click', () => {
                    const state = searchToggle.classList.contains('opened');
                    searchToggle.classList.toggle('opened', !state);
                    searchToggle.setAttribute('aria-expanded', !state);
                    searchToggleOpens.classList.toggle('opened', !state);
                    searchToggleOpens.setAttribute('aria-expanded', !state);
                });
                </script>
                <button class="nav-toggle toggle" data-opens=".site-nav" aria-expanded="false">
                    <span class="screen-reader-text">Menu</span>
                    <svg class="icon icon-nav-toggle" aria-hidden="true" viewBox="0 0 100 100" height="20">
                        <path d="M5,16h90v16H5z"/>
                        <path d="M5,48h90v16H5z"/>
                        <path d="M5,80h90v16H5z"/>
                    </svg>
                </button>
                <script type="module">
                const navToggle = document.querySelector('.nav-toggle');
                const navToggleOpens = document.querySelector(navToggle.dataset.opens);
                navToggle.addEventListener('click', () => {
                    const state = navToggle.classList.contains('opened');
                    navToggle.classList.toggle('opened', !state);
                    navToggle.setAttribute('aria-expanded', !state);
                    navToggleOpens.classList.toggle('opened', !state);
                    navToggleOpens.setAttribute('aria-expanded', !state);
                });
                </script>
            </div>
        </div>
    </header>
    <div class="main main--columns wrapper">
<div class="content" role="main">
    <h1>QUnit.module()</h1><p class="version-details">version added: <a href="https://github.com/qunitjs/qunit/releases/tag/1.0.0">1.0.0</a>
    </p><h2 id="description" class="screen-reader-text h-api-desc">Description</h2>
<p><code class="language-plaintext highlighter-rouge">QUnit.module( name )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module( name, nested )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module( name, options )</code><br />
<code class="language-plaintext highlighter-rouge">QUnit.module( name, options, nested )</code></p>

<p>Group related tests under a common label.</p>

<table>
  <thead>
    <tr>
      <th>parameter</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">name</code> (string)</td>
      <td>Label for this group of tests.</td>
    </tr>
    <tr>
      <td><a href="#options-object"><code class="language-plaintext highlighter-rouge">options</code></a> (object)</td>
      <td>Set hook callbacks to run before or after test execution.</td>
    </tr>
    <tr>
      <td><a href="#nested-scope"><code class="language-plaintext highlighter-rouge">nested</code></a> (function)</td>
      <td>A scope to create nested modules and/or set hooks functionally.</td>
    </tr>
  </tbody>
</table>

<p>All tests inside a module will be grouped under that module. The test names will be preceded by the module name in the test results. Tests can be added to a module using the <a href="/QUnit/test/">QUnit.test</a> method.</p>

<p>You can use modules to organize, select, and filter tests to run. See <a href="#organizing-your-tests">§ Organizing your tests</a>.</p>

<p>Modules can be nested inside other modules. In the output, tests are generally prefixed by the names of all parent modules. E.g. “Grantparent &gt; Parent &gt; Child &gt; my test”. See <a href="#nested-module-scope">§ Nested module scope</a>.</p>

<p>The <code class="language-plaintext highlighter-rouge">QUnit.module.only()</code>, <code class="language-plaintext highlighter-rouge">QUnit.module.skip()</code>, and <code class="language-plaintext highlighter-rouge">QUnit.module.todo()</code> methods are aliases for <code class="language-plaintext highlighter-rouge">QUnit.module()</code> that apply the behaviour of <a href="/QUnit/test.only/"><code class="language-plaintext highlighter-rouge">QUnit.test.only()</code></a>, <a href="/QUnit/test.skip/"><code class="language-plaintext highlighter-rouge">QUnit.test.skip()</code></a> or <a href="/QUnit/test.todo/"><code class="language-plaintext highlighter-rouge">QUnit.test.todo()</code></a> to all a module’s tests at once.</p>

<h3 id="options-object">Options object</h3>

<p>You can use the options object to set hook callbacks to prepare fixtures, or run other setup and
teardown logic. These hooks can run around individual tests, or around a whole module.</p>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">before</code> (function)</td>
      <td>Runs before the first test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">beforeEach</code> (function)</td>
      <td>Runs before each test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">afterEach</code> (function)</td>
      <td>Runs after each test.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">after</code> (function)</td>
      <td>Runs after the last test.</td>
    </tr>
  </tbody>
</table>

<p><code class="language-plaintext highlighter-rouge">QUnit.module()</code>’s hooks can automatically handle the asynchronous resolution of a Promise on your behalf if you return a <code class="language-plaintext highlighter-rouge">then</code>able Promise as the result of your callback function.</p>

<p><strong>Note</strong>: If additional tests are defined after the module’s queue has emptied, it will not run the <code class="language-plaintext highlighter-rouge">after</code> hook again.</p>

<p>Each <a href="/QUnit/test/">QUnit.test</a> has its own test context object, accessible via its <code class="language-plaintext highlighter-rouge">this</code> variable. Properties on the module options object are copied over to the test context object at the start of each test. Such properties can also be changed from the hook callbacks. See <a href="#using-the-test-context">§ Using the test context</a>.</p>

<h3 id="nested-scope">Nested scope</h3>

<p>The nested callback can be used to create nested modules to run under a commmon label within the parent module.</p>

<p>The scope is also given a <code class="language-plaintext highlighter-rouge">hooks</code> object which can be used to set hook options procedurally rather than
declaratively.</p>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">hooks</code> (object)</td>
      <td>An object with methods for adding hook callbacks.</td>
    </tr>
  </tbody>
</table>

<p>QUnit will run tests on the parent module before those of nested ones, even if lexically declared earlier in the code. Additionally, any hook callbacks on a parent module will wrap the hooks on a nested module. In other words, <code class="language-plaintext highlighter-rouge">before</code> and <code class="language-plaintext highlighter-rouge">beforeEach</code> callbacks will form a <a href="https://en.wikipedia.org/wiki/Queue_%28abstract_data_type%29">queue</a> while the <code class="language-plaintext highlighter-rouge">afterEach</code> and <code class="language-plaintext highlighter-rouge">after</code> callbacks will form a <a href="https://en.wikipedia.org/wiki/Stack_%28abstract_data_type%29">stack</a>.</p>

<h2 id="changelog">Changelog</h2>

<table>
  <tbody>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/2.4.0">QUnit 2.4</a></td>
      <td>The <code class="language-plaintext highlighter-rouge">QUnit.module.only()</code>, <code class="language-plaintext highlighter-rouge">QUnit.module.skip()</code>, and <code class="language-plaintext highlighter-rouge">QUnit.module.todo()</code> aliases were introduced.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/2.0.0">QUnit 2.0</a></td>
      <td>The <code class="language-plaintext highlighter-rouge">before</code> and <code class="language-plaintext highlighter-rouge">after</code> options were introduced.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/1.20.0">QUnit 1.20</a></td>
      <td>The <code class="language-plaintext highlighter-rouge">nested</code> scope feature was introduced.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/qunitjs/qunit/releases/tag/1.16.0">QUnit 1.16</a></td>
      <td>The <code class="language-plaintext highlighter-rouge">beforeEach</code> and <code class="language-plaintext highlighter-rouge">afterEach</code> options were introduced.<br />The <code class="language-plaintext highlighter-rouge">setup</code> and <code class="language-plaintext highlighter-rouge">teardown</code> options were deprecated in QUnit 1.16 and removed in QUnit 2.0.</td>
    </tr>
  </tbody>
</table>

<h2 id="examples">Examples</h2>

<h3 id="organizing-your-tests">Organizing your tests</h3>

<p>If <code class="language-plaintext highlighter-rouge">QUnit.module</code> is defined without a <code class="language-plaintext highlighter-rouge">nested</code> callback argument, all subsequently defined tests will be grouped into the module until another module is defined.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Group A</span><span class="dl">"</span> <span class="p">);</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 1</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 2</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is also fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Group B</span><span class="dl">"</span> <span class="p">);</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 3</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 4</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is also fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Using modern syntax:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">test</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUnit</span><span class="p">;</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Group A</span><span class="dl">"</span> <span class="p">);</span>

<span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>
<span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 2</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is also fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Group B</span><span class="dl">"</span> <span class="p">);</span>

<span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 3</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>
<span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 4</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is also fine</span><span class="dl">"</span> <span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="declaring-hook-options">Declaring hook options</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">module A</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">before</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// prepare something once for all tests</span>
  <span class="p">},</span>
  <span class="na">beforeEach</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// prepare something before each test</span>
  <span class="p">},</span>
  <span class="na">afterEach</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// clean up after each test</span>
  <span class="p">},</span>
  <span class="na">after</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// clean up once after all tests are done</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="nested-module-scope">Nested module scope</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">test</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUnit</span><span class="p">;</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Group A</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is fine</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 2</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is also fine</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Group B</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 3</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is fine</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">basic test example 4</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="kc">true</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">this is also fine</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="hooks-on-nested-modules">Hooks on nested modules</h3>

<p>Use <code class="language-plaintext highlighter-rouge">before</code>/<code class="language-plaintext highlighter-rouge">beforeEach</code> hooks are queued for nested modules. <code class="language-plaintext highlighter-rouge">after</code>/<code class="language-plaintext highlighter-rouge">afterEach</code> hooks are stacked on nested modules.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">test</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUnit</span><span class="p">;</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">My Group</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>

  <span class="c1">// It is valid to call the same hook methods more than once.</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">ok</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">beforeEach called</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">hooks</span><span class="p">.</span><span class="nx">afterEach</span><span class="p">(</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">ok</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">afterEach called</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">with hooks</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// 1 x beforeEach</span>
    <span class="c1">// 1 x afterEach</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span> <span class="mi">2</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Nested Group</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="c1">// This will run after the parent module's beforeEach hook</span>
    <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nx">ok</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">nested beforeEach called</span><span class="dl">"</span> <span class="p">);</span>
    <span class="p">});</span>

    <span class="c1">// This will run before the parent module's afterEach</span>
    <span class="nx">hooks</span><span class="p">.</span><span class="nx">afterEach</span><span class="p">(</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nx">ok</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="dl">"</span><span class="s2">nested afterEach called</span><span class="dl">"</span> <span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">with nested hooks</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// 2 x beforeEach (parent, current)</span>
      <span class="c1">// 2 x afterEach (current, parent)</span>
      <span class="nx">assert</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span> <span class="mi">4</span> <span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="using-the-test-context">Using the test context</h3>

<p>The test context object is exposed to hook callbacks.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Machine Maker</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">beforeEach</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">maker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Maker</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">parts</span> <span class="o">=</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">wheels</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">motor</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">chassis</span><span class="dl">"</span> <span class="p">];</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">makes a robot</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">parts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="dl">"</span><span class="s2">arduino</span><span class="dl">"</span> <span class="p">);</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">build</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">parts</span> <span class="p">),</span> <span class="dl">"</span><span class="s2">robot</span><span class="dl">"</span> <span class="p">);</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">robot</span><span class="dl">"</span> <span class="p">]</span> <span class="p">);</span>
<span class="p">});</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">makes a car</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">build</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">parts</span> <span class="p">),</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span> <span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">duplicate</span><span class="p">();</span>
  <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span> <span class="p">]</span> <span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>The test context is also available when using the nested scope. Beware that use of the <code class="language-plaintext highlighter-rouge">this</code> binding is not available
in arrow functions.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">test</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUnit</span><span class="p">;</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Machine Maker</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">maker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Maker</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">parts</span> <span class="o">=</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">wheels</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">motor</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">chassis</span><span class="dl">"</span> <span class="p">];</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">makes a robot</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">parts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="dl">"</span><span class="s2">arduino</span><span class="dl">"</span> <span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">build</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">parts</span> <span class="p">),</span> <span class="dl">"</span><span class="s2">robot</span><span class="dl">"</span> <span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">robot</span><span class="dl">"</span> <span class="p">]</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">makes a car</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">build</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">parts</span> <span class="p">),</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span> <span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">duplicate</span><span class="p">();</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">maker</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span> <span class="p">]</span> <span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>It might be more convenient to use JavaScript’s own lexical scope instead:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">test</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUnit</span><span class="p">;</span>

<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Machine Maker</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">maker</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">parts</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">maker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Maker</span><span class="p">();</span>
    <span class="nx">parts</span> <span class="o">=</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">wheels</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">motor</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">chassis</span><span class="dl">"</span> <span class="p">];</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">makes a robot</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">parts</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="dl">"</span><span class="s2">arduino</span><span class="dl">"</span> <span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span> <span class="nx">maker</span><span class="p">.</span><span class="nx">build</span><span class="p">(</span> <span class="nx">parts</span> <span class="p">),</span> <span class="dl">"</span><span class="s2">robot</span><span class="dl">"</span> <span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="nx">maker</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">robot</span><span class="dl">"</span> <span class="p">]</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">makes a car</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span> <span class="nx">maker</span><span class="p">.</span><span class="nx">build</span><span class="p">(</span> <span class="nx">parts</span> <span class="p">),</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span> <span class="p">);</span>
    <span class="nx">maker</span><span class="p">.</span><span class="nx">duplicate</span><span class="p">();</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="nx">maker</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">car</span><span class="dl">"</span> <span class="p">]</span> <span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="module-hook-with-promise">Module hook with Promise</h3>

<p>An example of handling an asynchronous <code class="language-plaintext highlighter-rouge">then</code>able Promise result in hooks. This example uses an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">ES6 Promise</a> interface that is fulfilled after connecting to or disconnecting from database.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Database connection</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">before</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span> <span class="p">)</span> <span class="p">{</span>
      <span class="nx">DB</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">err</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nx">err</span> <span class="p">)</span> <span class="p">{</span>
          <span class="nx">reject</span><span class="p">(</span> <span class="nx">err</span> <span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">resolve</span><span class="p">();</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">},</span>
  <span class="na">after</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span> <span class="p">)</span> <span class="p">{</span>
      <span class="nx">DB</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">err</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nx">err</span> <span class="p">)</span> <span class="p">{</span>
          <span class="nx">reject</span><span class="p">(</span> <span class="nx">err</span> <span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">resolve</span><span class="p">();</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="only-run-a-subset-of-tests">Only run a subset of tests</h3>

<p>Use <code class="language-plaintext highlighter-rouge">QUnit.module.only()</code> to treat an entire module’s tests as if they used <a href="/QUnit/test.only/"><code class="language-plaintext highlighter-rouge">QUnit.test.only</code></a> instead of <a href="/QUnit/test/"><code class="language-plaintext highlighter-rouge">QUnit.test</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Robot</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">});</span>

<span class="c1">// Only execute this module when developing the feature,</span>
<span class="c1">// skipping tests from other modules.</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">only</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Android</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">android</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">android</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Android</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Say hello</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span> <span class="nx">android</span><span class="p">.</span><span class="nx">hello</span><span class="p">(),</span> <span class="dl">"</span><span class="s2">Hello, my name is AN-2178!</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Basic conversation</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">android</span><span class="p">.</span><span class="nx">loadConversationData</span><span class="p">(</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">Hi</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">What's your name?</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">My name is AN-2178.</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">Nice to meet you!</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Nice to meet you too!</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">...</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">...</span><span class="dl">"</span>
    <span class="p">});</span>

    <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span>
      <span class="nx">android</span><span class="p">.</span><span class="nx">answer</span><span class="p">(</span> <span class="dl">"</span><span class="s2">What's your name?</span><span class="dl">"</span> <span class="p">),</span>
      <span class="dl">"</span><span class="s2">My name is AN-2178.</span><span class="dl">"</span>
    <span class="p">);</span>
  <span class="p">});</span>

  <span class="c1">// ...</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Use <code class="language-plaintext highlighter-rouge">QUnit.module.skip()</code> to treat an entire module’s tests as if they used <a href="/QUnit/test.skip/"><code class="language-plaintext highlighter-rouge">QUnit.test.skip</code></a> instead of <a href="/QUnit/test/"><code class="language-plaintext highlighter-rouge">QUnit.test</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Robot</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">});</span>

<span class="c1">// Skip this module's tests.</span>
<span class="c1">// For example if the android tests are failing due to unsolved problems.</span>
<span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">skip</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Android</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">android</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">android</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Android</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Say hello</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span> <span class="nx">android</span><span class="p">.</span><span class="nx">hello</span><span class="p">(),</span> <span class="dl">"</span><span class="s2">Hello, my name is AN-2178!</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Basic conversation</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span>
      <span class="nx">android</span><span class="p">.</span><span class="nx">answer</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Nice to meet you!</span><span class="dl">"</span> <span class="p">),</span>
      <span class="dl">"</span><span class="s2">Nice to meet you too!</span><span class="dl">"</span>
    <span class="p">);</span>
  <span class="p">});</span>

  <span class="c1">// ...</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Use <code class="language-plaintext highlighter-rouge">QUnit.module.todo()</code> to denote a feature that is still under development, and is known to not yet be passing all its tests. This treats an entire module’s tests as if they used <a href="/QUnit/test.todo/"><code class="language-plaintext highlighter-rouge">QUnit.test.todo</code></a> instead of <a href="/QUnit/test/"><code class="language-plaintext highlighter-rouge">QUnit.test</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QUnit</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">todo</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Robot</span><span class="dl">"</span><span class="p">,</span> <span class="nx">hooks</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">robot</span><span class="p">;</span>
  <span class="nx">hooks</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">robot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Robot</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Say</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Currently, it returns undefined</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span> <span class="nx">robot</span><span class="p">.</span><span class="nx">say</span><span class="p">(),</span> <span class="dl">"</span><span class="s2">I'm Robot FN-2187</span><span class="dl">"</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">QUnit</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Move arm</span><span class="dl">"</span><span class="p">,</span> <span class="nx">assert</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Move the arm to point (75, 80). Currently, each throws a NotImplementedError</span>
    <span class="nx">robot</span><span class="p">.</span><span class="nx">moveArmTo</span><span class="p">(</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">80</span> <span class="p">);</span>
    <span class="nx">assert</span><span class="p">.</span><span class="nx">deepEqual</span><span class="p">(</span> <span class="nx">robot</span><span class="p">.</span><span class="nx">getPosition</span><span class="p">(),</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">80</span> <span class="p">}</span> <span class="p">);</span>
  <span class="p">});</span>

  <span class="c1">// ...</span>
<span class="p">});</span>
</code></pre></div></div>

</div>
<aside class="sidebar" role="complementary">

	<h4 class="sidebar-title-open"><a href="/QUnit/">Main methods</a></h4>
	<ul class="sidebar-list"><li class="sidebar-item sidebar-item-active">
		<a href="/QUnit/module/">QUnit.module()</a>
	</li><li class="sidebar-item">
		<a href="/QUnit/start/">QUnit.start()</a>
	</li><li class="sidebar-item">
		<a href="/QUnit/test/">QUnit.test()</a>
	</li><li class="sidebar-item">
		<a href="/QUnit/test.each/">QUnit.test.each()</a>
	</li><li class="sidebar-item">
		<a href="/QUnit/test.only/">QUnit.test.only()</a>
	</li><li class="sidebar-item">
		<a href="/QUnit/test.skip/">QUnit.test.skip()</a>
	</li><li class="sidebar-item">
		<a href="/QUnit/test.todo/">QUnit.test.todo()</a>
	</li></ul>

	<h4><a href="/assert/">Assertions</a></h4>
	

	<h4><a href="/callbacks/">Callback events</a></h4>
	

	<h4><a href="/async/">Async control</a></h4>
	

	<h4><a href="/config/">Configuration</a></h4>
	

	<h4><a href="/extension/">Extension interface</a></h4>
	

	<h4><a href="/deprecated/">Deprecated methods</a></h4>
	<hr><div class="toc-wrapper">
		<h4>Table of contents</h4><ol class="toc"><li class="sidebar-item"><a href="#description">Description</a><ol><li class="sidebar-item"><a href="#options-object">Options object</a></li><li class="sidebar-item"><a href="#nested-scope">Nested scope</a></li></ol></li><li class="sidebar-item"><a href="#changelog">Changelog</a></li><li class="sidebar-item"><a href="#examples">Examples</a><ol><li class="sidebar-item"><a href="#organizing-your-tests">Organizing your tests</a></li><li class="sidebar-item"><a href="#declaring-hook-options">Declaring hook options</a></li><li class="sidebar-item"><a href="#nested-module-scope">Nested module scope</a></li><li class="sidebar-item"><a href="#hooks-on-nested-modules">Hooks on nested modules</a></li><li class="sidebar-item"><a href="#using-the-test-context">Using the test context</a></li><li class="sidebar-item"><a href="#module-hook-with-promise">Module hook with Promise</a></li><li class="sidebar-item"><a href="#only-run-a-subset-of-tests">Only run a subset of tests</a></li></ol></li></ol></div>
</aside>

</div>

    <footer class="site-footer">
        <div class="wrapper">
            <p class="external-links">
                <a href="https://github.com/qunitjs" target="_blank" rel="noopener noreferrer">GitHub</a>
                <a href="https://mastodon.technology/@qunitjs" target="_blank" rel="noopener noreferrer">Mastodon</a>
                
                <a href="https://twitter.com/qunitjs" target="_blank" rel="noopener noreferrer">Twitter</a>
                
                <a href="https://gitter.im/qunitjs/qunit" target="_blank" rel="noopener noreferrer">Chat</a>
            </p>
            <p class="copyright">Copyright <a href="https://openjsf.org/" target="_blank" rel="noopener noreferrer">OpenJS Foundation</a> and contributors.<br><a href="https://github.com/qunitjs/qunit/blob/main/docs/QUnit/module.md">Edit this page</a></p>
        </div>
    </footer><script type="module">
const loadSearch = () => Promise.all([
    new Promise((resolve) => document.body.append(Object.assign(document.createElement('script'), {
        crossOrigin: 'anonymous',
        integrity: 'sha256-YuyfhK9VEyfW6ejFiPbfOX2SELbFrgFU/8tU3MHuh60=',
        src: 'https://cdn.jsdelivr.net/npm/algoliasearch@4.3.1/dist/algoliasearch-lite.umd.js',
        onload: resolve
    }))),
    new Promise((resolve) => document.body.append(Object.assign(document.createElement('script'), {
        crossOrigin: 'anonymous',
        integrity: 'sha256-YVWQosorZnr6fALvOW9VALYuInld27RkSPkElGBdCaU=',
        src: 'https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js',
        onload: resolve
    })))
]);
const input = document.querySelector('#aa-search-input');
const form = document.querySelector('#site-search-form');
let restoreFocus = false;
async function setupSearch(e) {
    restoreFocus = restoreFocus || (e && (e.type === 'click' || e.type === 'focus'));
    if (setupSearch.setup) return;
    setupSearch.setup = true;
    await loadSearch();

    const client = algoliasearch('EQYECMT6Q0', 'f492bec49e061a41cb8f57128483fd16');
    const indexSources = [{"index":"qunitjs-api"},{"index":"qunitjs","base":"https://qunitjs.com"}];
    const escapeString = autocomplete.escapeHighlightedString;
    const autocompleteOptions = {
        // Debug allows inspecting the suggestions
        debug: true,
        // (Re)open suggestions on (re)focus when input is non-empty
        openOnFocus: true,
        hint: false,
        ariaLabel: 'search input',
        templates: {
            // https://github.com/algolia/autocomplete.js/issues/248
            empty(query) {
                return `No results for "${escapeString(query.query)}".`;
            },
            footer: '<div class="aa-footer">Search by <a class="aa-logo" href="https://algolia.com" target="_blank">Algolia</a></div>'
        }
    };
    function formatURL(suggestion) {
        return (suggestion.anchor && !suggestion.url.includes('#')) ? suggestion.url + '#' + suggestion.anchor : suggestion.url;
    }
    function newHitsSource(index, params) {
        return function(query, cb) {
            index.search(query, params).then(
                res => { cb(res.hits, res); },
                err => { cb([]); console.error(err); }
            );
        };
    }
    const autocompleteSources = indexSources.map(source => ({
        source: newHitsSource(client.initIndex(source.index), { hitsPerPage: 5 }),
        displayKey: '',
        templates: {
            suggestion(suggestion) {
                const title = [ suggestion.title ].concat(suggestion.headings || []).join(' › ');
                const content = suggestion._highlightResult.content && suggestion._highlightResult.content.value || '';
                suggestion._href = (source.base || '') + formatURL(suggestion);
                return `<a href="${suggestion._href}" tabindex="-1">
                    <p class="aa-suggestion_title">${title}</p>
                    <p class="aa-suggestion_content">${content}</p>
                </a>`;
            }
        }
    }));
    const $input = autocomplete('#aa-search-input', autocompleteOptions, autocompleteSources)
        .on('autocomplete:selected', (e, suggestion) => location.href = suggestion._href || suggestion.url);

    if (restoreFocus) $input.focus();

    // Disable fallback form
    form.addEventListener('submit', (e) => {
        e.preventDefault();
    });
}
document.addEventListener('keydown', (e) => {
    if (e.key === '/' && !(document.activeElement && /^(INPUT|TEXTAREA)$/.test(document.activeElement.tagName))) {
        input.focus();
        e.preventDefault();
    }
});
input.addEventListener('focus', setupSearch, { once: true });
form.addEventListener('click', setupSearch, { once: true });
form.classList.add('site-search--bound');
</script>
</body>
</html>
